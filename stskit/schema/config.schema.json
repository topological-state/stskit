{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://github.com/topological-state/stskit/stskit/schema/config-v3.schema.json",
    "title": "STSdispo configuration schema",
    "description": "Schema of STSdispo configuration files",
    "type": "object",
    "properties": {
        "_aid": {
            "description": "Anlage/Stellwerk ID, vom Simulator vorgegeben.",
            "type": "integer",
            "exclusiveMinimum": 0
        },
        "_build": {
            "description": "Build number des Simulators.",
            "type": "integer",
            "exclusiveMinimum": 0
        },
        "_name": {
            "description": "Name der Anlage/des Stellwerks, vom Simulator vorgegeben.",
            "type": "string"
        },
        "_region": {
            "description": "Name der Region, vom Simulator vorgegeben.",
            "type": "string"
        },
        "_version": {
            "description": "Versionsnummer des Konfigurationsschemas.",
            "type": "integer",
            "exclusiveMinimum": 0
        },
        "default": {
            "description": "True = Konfigurationsdaten wurden automatisch generiert.",
            "type": "boolean"
        },
        "anschlussgleise": {
            "description": "Zuordnung von Anschlussgleisen zu Anschlussstellen. Es müssen nur modifizierte Gleise (auto = false) angegeben werden.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Anschlussname wie im Sim.",
                        "type": "string"
                    },
                    "parent": {
                        "description": "Name der Anschlussstelle, verweist auf Element aus der anschlussstellen-Liste.",
                        "type": "string"
                    },
                    "visible": {
                        "description": "Sichtbarkeit im Anschlussdiagramm.",
                        "type": "boolean"
                    },
                    "status": {
                        "description": "Gleismarkierungen.",
                        "type": "string"
                    },
                    "degree": {
                        "description": "Anzahl der Gleise: 1 = eingleisige Ein- und Ausfahrt.",
                        "type": "integer",
                        "minimum": 1
                    },
                    "auto": {
                        "description": "Automatische Konfiguration. Auf False setzen, wenn der Eintrag manuell verändert wurde!",
                        "type": "boolean"
                    }
                },
                "required": ["name"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "anschlussstellen": {
            "description": "Liste von Anschlussstellen. Namen können frei gewählt werden.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name der Anschlussstelle. Frei, hat keine Entsprechung im Simulator.",
                        "type": "string"
                    },
                    "visible": {
                        "description": "Sichtbarkeit (der zugehörigen Gleise) im Anschlussdiagramm.",
                        "type": "boolean"
                    },
                    "status": {
                        "description": "Gleismarkierungen.",
                        "type": "string"
                    },
                    "auto": {
                        "description": "Automatische Konfiguration. Auf False setzen, wenn der Eintrag manuell verändert wurde!",
                        "type": "boolean"
                    }
                },
                "required": ["name"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "bahnhoefe": {
            "description": "Liste von Bahnhöfen. Namen können frei gewählt werden.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name des Bahnhofs. Frei, hat keine Entsprechung im Simulator.",
                        "type": "string"
                    },
                    "visible": {
                        "description": "Sichtbarkeit (der zugehörigen Gleise) im Gleisbelegungsdiagramm.",
                        "type": "boolean"
                    },
                    "status": {
                        "description": "Gleismarkierungen.",
                        "type": "string"
                    },
                    "auto": {
                        "description": "Automatische Konfiguration. Auf False setzen, wenn der Eintrag manuell verändert wurde!",
                        "type": "boolean"
                    }
                },
                "required": ["name"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "bahnhofteile": {
            "description": "Liste von Bahnhofteilen (Namen frei) und ihrer Zugehörigkeit zu Bahnhöfen.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Name des Bahnhofteils. Frei, hat keine Entsprechung im Simulator.",
                        "type": "string"
                    },
                    "parent": {
                        "description": "Name des Bahnhofs, verweist auf Element aus der bahnhoefe-Liste.",
                        "type": "string"
                    },
                    "visible": {
                        "description": "Sichtbarkeit (der zugehörigen Gleise) im Gleisbelegungsdiagramm.",
                        "type": "boolean"
                    },
                    "status": {
                        "description": "Gleismarkierungen.",
                        "type": "string"
                    },
                    "auto": {
                        "description": "Automatische Konfiguration. Auf False setzen, wenn der Eintrag manuell verändert wurde!",
                        "type": "boolean"
                    }
                },
                "required": ["name"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "bahnsteige": {
            "description": "Liste von Bahnsteigen (Namen frei) und ihrer Zugehörigkeit zu Bahnhofteilen.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Bahnsteigname. Frei, hat keine Entsprechung im Simulator.",
                        "type": "string"
                    },
                    "parent": {
                        "description": "Name des Bahnhofteils, verweist auf Element aus der bahnhofteile-Liste.",
                        "type": "string"
                    },
                    "visible": {
                        "description": "Sichtbarkeit (der zugehörigen Gleise) im Gleisbelegungsdiagramm.",
                        "type": "boolean"
                    },
                    "status": {
                        "description": "Gleismarkierungen.",
                        "type": "string"
                    },
                    "auto": {
                        "description": "Automatische Konfiguration. Auf False setzen, wenn der Eintrag manuell verändert wurde!",
                        "type": "boolean"
                    }
                },
                "required": ["name"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "gleise": {
            "description": "Liste von Gleisen (Namen vom Sim vorgegeben) und ihrer Zugehörigkeit zu Bahnsteigen.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Gleisname wie im Sim.",
                        "type": "string"
                    },
                    "parent": {
                        "description": "Bahnsteigname, verweist auf Element aus der bahnsteige-Liste.",
                        "type": "string"
                    },
                    "visible": {
                        "description": "Sichtbarkeit im Gleisbelegungsdiagramm.",
                        "type": "boolean"
                    },
                    "status": {
                        "description": "Gleismarkierungen.",
                        "type": "string"
                    },
                    "auto": {
                        "description": "Automatische Konfiguration. Auf False setzen, wenn der Eintrag manuell verändert wurde!",
                        "type": "boolean"
                    }
                },
                "required": ["name"]
            },
            "minItems": 1,
            "uniqueItems": true
        },
        "strecken": {
            "description": "Definition der Strecken für den Streckenfahrplan.",
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": {
                        "description": "Streckenname. Frei wählbar.",
                        "type": "string"
                    },
                    "main": {
                        "description": "Hauptstrecke",
                        "type": "boolean"
                    },
                    "stations": {
                        "description": "Stationsliste",
                        "type": "array",
                        "items": {
                            "description": "Station: Anschlussstelle, Bahnhof oder Bahnhofteil",
                            "type": "string"
                        }
                    }
                }
            }
        },
        "streckenmarkierung": {
            "description": "Markierung von Streckenabschnitten",
            "type": "array"

        },
        "widgets": {
            "description": "Liste und Position der offenen Fenster.",
            "type": "array"

        },
        "zugschema": {
            "description": "Name des Zugschemas.",
            "type": "string"
        }
    },
    "required": ["_aid", "_build", "_version"]
}